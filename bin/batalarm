#!/bin/bash

which acpi &>/dev/null
if [[ ! $? ]]; then
  echo "error: batalarm requires acpi (binary)"
  exit 1
fi

which notify-send &>/dev/null
if [[ ! $? ]]; then
  echo "error: batalarm requires libnotify"
  exit 1
fi

while true; do
  bat_perc=$(acpi -b | awk '{print $4}' | cut -c1-2)
  if (( bat_perc < 50 )); then
    notify-send "Battery State:" "$bat_perc% Remaining"
  fi
  sleep 1200
done
