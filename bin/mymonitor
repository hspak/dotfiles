#!/bin/bash
#
# mymonitor: detects external monitor, starts conky, sets wallpaper
#

# -- Detect External Monitor
VGA=`xrandr | grep "VGA1 connected"`
HDMI=`xrandr | grep "HDMI1 connected"`

if [ "${HDMI}" != "" ]; then
    xrandr --output VGA1 --off --output HDMI1 --mode 1920x1080 --pos 0x0 --output LVDS1 --off
elif [ "${VGA}" != "" ]; then
    xrandr --output VGA1 --mode 1920x1080 --pos 0x0 --output LVDS1 --off
else
    xrandr --auto
fi

# Set Wallpaper
feh --bg-scale /media/image/arch_pacman.jpg &

# Fix notification position
NOTI_PID=$(pgrep notify-osd)

[[ -n "$NOTI_PID" ]] && kill "$NOTI_PID"
